{% load static %}
<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Portfolio{% endblock %}</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<body>
    {% include 'navbar.html' %}
    {% include 'home_section.html' %}
    {% block content1 %}
    {% endblock content1 %}
    {% include 'about_section.html' %}
    {% include 'projects_section.html' %}
    {% include 'experiences_section.html' %}
    
    {% include 'contact_section.html' %}
    {% block extra_js %}{% endblock %}

<!-- Bootstrap bundle (Popper included) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"  crossorigin="anonymous"></script>

<!-- Global reveal CSS (keeps sections 0->1 on scroll) -->
<style>
  
  /* Section reveal base */
  .site-section { opacity: 0; transform: translateY(18px); transition: opacity .6s ease, transform .6s cubic-bezier(.2,.9,.2,1); will-change: opacity, transform; }
  .site-section.in-view { opacity: 1; transform: translateY(0); }

  /* Stagger helper for child items (optional) */
  .site-section .stagger { opacity: 0; transform: translateY(8px); transition: opacity .45s ease, transform .45s ease; }
  .site-section.in-view .stagger { opacity: 1; transform: translateY(0); }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .site-section, .site-section .stagger { transition: none !important; transform: none !important; }
  }
</style>

<!-- Global IntersectionObserver for reveal (one script on base) -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  const sections = document.querySelectorAll('.site-section');
  const obs = new IntersectionObserver((entries, observer) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        e.target.classList.add('in-view');
        // optional stagger: apply incremental delays to direct children with .stagger
        const staggerItems = e.target.querySelectorAll('.stagger');
        staggerItems.forEach((el, i) => el.style.transitionDelay = (80 + i*70) + 'ms');
        observer.unobserve(e.target);
      }
    });
  }, { threshold: 0.15 });
  sections.forEach(s => obs.observe(s));
});
</script>

</body>
</html>

<style>
    /* Full-page fixed background for base.html */
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  background-color: #07112a;

}

body {
  background-color: #07112a;
  background-image:
    linear-gradient(180deg, rgba(7,17,42,0.96), rgba(2,10,26,0.95)),
    radial-gradient(800px 240px at 75% 30%, rgba(0,194,255,0.03), transparent 12%),
    radial-gradient(600px 200px at 20% 80%, rgba(79,255,176,0.02), transparent 10%),
    url('/static/images/pattern.png');
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: center top;
  background-size: cover;
  color: #e9fef0;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
}

body::before{
  content: "";
  pointer-events: none;
  position: fixed;
  inset: 0;
  background: radial-gradient(1200px 420px at 65% 45%, rgba(255,255,255,0.02), transparent 10%),
              linear-gradient(180deg, rgba(0,0,0,0.08), rgba(0,0,0,0.22));
  mix-blend-mode: multiply;
  z-index: 0;
}

#app, .site-wrapper, .container, main {
  position: relative;
  z-index: 1;
}
</style>
